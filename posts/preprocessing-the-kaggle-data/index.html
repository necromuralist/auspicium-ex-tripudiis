<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Preprocessing the Kaggle Data | Notes on Kaggle</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://necromuralist.github.io/Kaggle-Competitions/posts/preprocessing-the-kaggle-data/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script><meta name="author" content="Cloistered Monkey">
<link rel="prev" href="../building-the-training-set/" title="Building The Training Set" type="text/html">
<meta property="og:site_name" content="Notes on Kaggle">
<meta property="og:title" content="Preprocessing the Kaggle Data">
<meta property="og:url" content="https://necromuralist.github.io/Kaggle-Competitions/posts/preprocessing-the-kaggle-data/">
<meta property="og:description" content="Introduction


This is a post to do some basic pre-processing on the data. It won't do anything fancy (i.e. no Feature Engineering), but will just get the data ready to be used by the models. In parti">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-08-25T13:05:56-07:00">
<meta property="article:tag" content="preprocessing data kaggle">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-default navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://necromuralist.github.io/Kaggle-Competitions/">

                <span id="blog-title">Notes on Kaggle</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="https://necromuralist.github.io/">The Cloistered Monkey</a>
                </li>
<li>
<a href="../../archive.html">Archive</a>
                </li>
<li>
<a href="../../categories/">Tags</a>
                </li>
<li>
<a href="../../rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Google custom search --><form method="get" action="https://www.google.com/search" class="navbar-form navbar-right" role="search">
<div class="form-group">
<input type="text" name="q" class="form-control" placeholder="Search">
</div>
<button type="submit" class="btn btn-primary">
	<span class="glyphicon glyphicon-search"></span>
</button>
<input type="hidden" name="sitesearch" value="https://necromuralist.github.io/Kaggle-Competitions/">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.org" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Preprocessing the Kaggle Data</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Cloistered Monkey
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2018-08-25T13:05:56-07:00" itemprop="datePublished" title="2018-08-25 13:05">2018-08-25 13:05</time></a></p>
            
        <p class="sourceline"><a href="index.org" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div id="outline-container-org2d93121" class="outline-2">
<h2 id="org2d93121">Introduction</h2>
<div class="outline-text-2" id="text-org2d93121">
<p>
This is a post to do some basic pre-processing on the data. It won't do anything fancy (i.e. no Feature Engineering), but will just get the data ready to be used by the models. In particular, the rules say that the test data target will be limited to a range and the features are categorical so we need to transform them for non-tree models.
</p>
</div>
</div>
<div id="outline-container-org888f96d" class="outline-2">
<h2 id="org888f96d">Tangle</h2>
<div class="outline-text-2" id="text-org888f96d">
<div class="highlight"><pre><span></span><span class="o">&lt;&lt;</span><span class="n">pypi</span><span class="o">-</span><span class="n">imports</span><span class="o">&gt;&gt;</span>

<span class="o">&lt;&lt;</span><span class="n">local</span><span class="o">-</span><span class="n">imports</span><span class="o">&gt;&gt;</span>

<span class="o">&lt;&lt;</span><span class="n">clip</span><span class="o">-</span><span class="n">it</span><span class="o">&gt;&gt;</span>
</pre></div>
</div>
</div>
<div id="outline-container-org93b1991" class="outline-2">
<h2 id="org93b1991">Imports</h2>
<div class="outline-text-2" id="text-org93b1991">
</div>
<div id="outline-container-org413172e" class="outline-3">
<h3 id="org413172e">From pypi</h3>
<div class="outline-text-3" id="text-org413172e">
<div class="highlight"><pre><span></span>import numpy
</pre></div>
</div>
</div>

<div id="outline-container-org0e22c2e" class="outline-3">
<h3 id="org0e22c2e">This project</h3>
<div class="outline-text-3" id="text-org0e22c2e">
<div class="highlight"><pre><span></span>from kaggler.helpers.build_training_data import Pickles
from kaggler.helpers.helpers import Helpers
</pre></div>
</div>
</div>
</div>
<div id="outline-container-org8d77a47" class="outline-2">
<h2 id="org8d77a47">Loading the Data</h2>
<div class="outline-text-2" id="text-org8d77a47">
<div class="highlight"><pre><span></span>x_train = Helpers.unpickle(Pickles.x_train)
x_test = Helpers.unpickle(Pickles.x_test)
y_train = Helpers.unpickle(Pickles.y_train)
y_test = Helpers.unpickle(Pickles.y_test)
</pre></div>

<div class="highlight"><pre><span></span>print(x_train.shape)
print(x_test.shape)
print(y_train.shape)
print(y_test.shape)
</pre></div>
</div>
</div>

<div id="outline-container-orgc08c76f" class="outline-2">
<h2 id="orgc08c76f">Limit the Target Range</h2>
<div class="outline-text-2" id="text-orgc08c76f">
<p>
According to the contest description the true target values are clipped to the <code>[0,20]</code> range, so it might make sense to clip the target data in our training and testing data to the given range.
</p>

<div class="highlight"><pre><span></span>Helpers.print_head(x_test)
</pre></div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
</colgroup>
<thead><tr>
<th scope="col" class="org-right">date<sub>block</sub><sub>num</sub>
</th>
<th scope="col" class="org-right">shop<sub>id</sub>
</th>
<th scope="col" class="org-right">item<sub>id</sub>
</th>
<th scope="col" class="org-right">item<sub>price</sub>
</th>
<th scope="col" class="org-right">item<sub>category</sub><sub>id</sub>
</th>
<th scope="col" class="org-right">month</th>
<th scope="col" class="org-right">year</th>
</tr></thead>
<tbody>
<tr>
<td class="org-right">18</td>
<td class="org-right">48</td>
<td class="org-right">5440</td>
<td class="org-right">399</td>
<td class="org-right">55</td>
<td class="org-right">07</td>
<td class="org-right">2014</td>
</tr>
<tr>
<td class="org-right">13</td>
<td class="org-right">5</td>
<td class="org-right">10487</td>
<td class="org-right">399</td>
<td class="org-right">40</td>
<td class="org-right">02</td>
<td class="org-right">2014</td>
</tr>
<tr>
<td class="org-right">12</td>
<td class="org-right">28</td>
<td class="org-right">12616</td>
<td class="org-right">98</td>
<td class="org-right">40</td>
<td class="org-right">01</td>
<td class="org-right">2014</td>
</tr>
<tr>
<td class="org-right">20</td>
<td class="org-right">56</td>
<td class="org-right">18361</td>
<td class="org-right">299</td>
<td class="org-right">57</td>
<td class="org-right">09</td>
<td class="org-right">2014</td>
</tr>
<tr>
<td class="org-right">4</td>
<td class="org-right">35</td>
<td class="org-right">1249</td>
<td class="org-right">299</td>
<td class="org-right">55</td>
<td class="org-right">05</td>
<td class="org-right">2013</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span>Helpers.print_head(x_train)
</pre></div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup>
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
<col class="org-right">
</colgroup>
<thead><tr>
<th scope="col" class="org-right">date<sub>block</sub><sub>num</sub>
</th>
<th scope="col" class="org-right">shop<sub>id</sub>
</th>
<th scope="col" class="org-right">item<sub>id</sub>
</th>
<th scope="col" class="org-right">item<sub>price</sub>
</th>
<th scope="col" class="org-right">item<sub>category</sub><sub>id</sub>
</th>
<th scope="col" class="org-right">month</th>
<th scope="col" class="org-right">year</th>
</tr></thead>
<tbody>
<tr>
<td class="org-right">11</td>
<td class="org-right">15</td>
<td class="org-right">1324</td>
<td class="org-right">499</td>
<td class="org-right">55</td>
<td class="org-right">12</td>
<td class="org-right">2013</td>
</tr>
<tr>
<td class="org-right">18</td>
<td class="org-right">31</td>
<td class="org-right">19981</td>
<td class="org-right">499</td>
<td class="org-right">43</td>
<td class="org-right">07</td>
<td class="org-right">2014</td>
</tr>
<tr>
<td class="org-right">32</td>
<td class="org-right">28</td>
<td class="org-right">7934</td>
<td class="org-right">398</td>
<td class="org-right">7</td>
<td class="org-right">09</td>
<td class="org-right">2015</td>
</tr>
<tr>
<td class="org-right">12</td>
<td class="org-right">43</td>
<td class="org-right">13518</td>
<td class="org-right">1499</td>
<td class="org-right">19</td>
<td class="org-right">01</td>
<td class="org-right">2014</td>
</tr>
<tr>
<td class="org-right">28</td>
<td class="org-right">25</td>
<td class="org-right">19927</td>
<td class="org-right">329</td>
<td class="org-right">57</td>
<td class="org-right">05</td>
<td class="org-right">2015</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/preprocessing-data-kaggle/" rel="tag">preprocessing data kaggle</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../building-the-training-set/" rel="prev" title="Building The Training Set">Previous post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2018         <a href="mailto:necromuralist@protonmail.com">Cloistered Monkey</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a><br>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
